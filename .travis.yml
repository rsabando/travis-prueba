language: php

php:
  - '5.4'
  - '5.5'
  - '5.6'
  - '7.0'
  - '7.1'
  - nightly

before_install:
  - npm install -g hexo

install:
  - npm install

before_script:
 - git config --global user.name 'Ronny Sabando'
 - git config --global user.email 'rsabando@espol.edu.ec'

script:
- hexo generate

after_success:
    - mkdir .deploy
    - cd .deploy
    - git clone $DEPLOY_REPO . || (git init && git remote add origin $DEPLOY_REPO)
    - cp -r ../public/* .
    - git add -A .
    - git commit -m 'Site updated by Travis'
    - git push --force --quiet origin master
